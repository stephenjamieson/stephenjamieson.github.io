<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="" />

    <meta name="description" content="">

    <meta name="twitter:card" content="summary">
    
    <meta name="twitter:title" content="smokeping on saucy &middot; Stephen Jamieson">
    <meta name="twitter:description" content="">

    <meta property="og:type" content="article">
    <meta property="og:title" content="smokeping on saucy &middot; Stephen Jamieson">
    <meta property="og:description" content="">

    <title>smokeping on saucy &middot; Stephen Jamieson</title>
    <link rel="canonical" href="https://stephenjamieson.info/post/smokeping-saucy/">



    <link type="text/css" href="https://stephenjamieson.info/static/css/bootstrap.min.css" rel="stylesheet"/>
    <link type="text/css" href="https://stephenjamieson.info/static/css/bootstrap-theme.min.css" rel="stylesheet"/>

    <link type="text/css" href="https://stephenjamieson.info/static/css/persona-icons.css" rel="stylesheet"/>

    
    <link type="text/css" href="https://stephenjamieson.info/static/css/lato-font.css" rel="stylesheet"/>
    <link type="text/css" href="https://stephenjamieson.info/static/css/notoserif-font.css" rel="stylesheet"/>

    <link type="text/css" href="https://stephenjamieson.info/static/css/style.css" rel="stylesheet"/>
    <link type="text/css" href="https://stephenjamieson.info/static/css/responsive.css" rel="stylesheet"/>

    <link type="text/css" href="https://stephenjamieson.info/static/css/highlight/googlecode.css" rel="stylesheet"/>

    
    
    <script src="https://stephenjamieson.info/static/js/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://stephenjamieson.info/static/css/lightGallery.css" />
    <link rel="stylesheet" type="text/css" href="https://stephenjamieson.info/static/css/lightslider.css" />
    

    <!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script><![endif]-->
    
    
</head>

<body vocab="http://schema.org/" typeof="WebPage">

                        <section class="left_sidebar_content_area">
<div class="sidebar_single_module">
        <div class="sidebar_wraper">
                <div class="sidebar_inner">
                        <form action="#" method="post">
                                <div class="search_box">
                                        <i class="icon icon-search"></i>
                                        <input type="text" placeholder="Search Here..." name="search"/>
                                </div>
                        </form>
                </div>
        </div>
</div>

<div class="sidebar_single_module">
        <div class="sidebar_wraper">
                <div class="sidebar_inner">
                        <div class="right_menu_area">
                                <ul class="nav nav-pills nav-stacked">
                                        <li><a href="/index.html">Home</a></li>
                                        <li>
                                                <a href="#">Filter</a>
                                                <ul>
                                                        <li><a href="#">Audio</a></li>
                                                        <li><a href="#">Chat</a></li>
                                                        <li><a href="#">Photo</a></li>
                                                        <li><a href="#">Gallery</a></li>
                                                        <li><a href="#">Quote</a></li>
                                                        <li><a href="#">Text</a></li>
                                                        <li><a href="#">Video</a></li>
                                                </ul>
                                        </li>
                                        <li>
                                                <a href="#">Page</a>
                                                <ul>
                                                        <li><a href="columns.html">Columns Fullwidth</a></li>
                                                        <li><a href="columns_Variant.html">Columns</a></li>
                                                </ul>
                                        </li>
                                        <li><a href="shortcode.html">Shortcode</a></li>
                                        <li><a href="#">Archives</a></li>
                                        <li><a href="#">Contact</a></li>
                                </ul>
                        </div>
                </div>
        </div>
</div>



<div class="sidebar_single_module">
        <div class="sidebar_wraper">
                <div class="sidebar_inner">
                        <div class="text_widget twitter_widget">
                                <h2>Twitter feeds</h2>
                                <div class="single_tweets">
                                        <h3><a href="#">@HeyDesigner</a></h3>
                                        <p>Sketchcasts - A weekly screencast covering Sketch</p>
                                        <a href="http://t.co/e5DEW3s">http://t.co/e5DEW3s</a>
                                        <span>26 Feb 2014</span>
                                </div>
                                <div class="single_tweets">
                                        <h3><a href="#">@mate_ciao</a></h3>
                                        <p>Utinam putant elige. </p>
                                        <a href="http://t.co/e3q0ZW2OOr">http://t.co/e3q0ZW2OOr</a>
                                        <span>26 Feb 2014</span>
                                </div>
                                <a href="" class="btn btn-default twitter_btb">Follow on Twitter</a>
                        </div>
                </div>
        </div>
</div>

<div class="sidebar_single_module">
        <div class="sidebar_wraper">
                <div class="sidebar_inner">
                        <div class="flickr_widget">
                                <h2>Flickr Widget</h2>
                                <div>
                                        <a href="#"><img src="/static/images/thumbnail.jpg" alt="Title" /></a>
                                        <a href="#"><img src="/static/images/p2.jpg" alt="Title" /></a>
                                        <a href="#"><img src="/static/images/p3.jpg" alt="Title" /></a>
                                        <a href="#"><img src="/static/images/p4.jpg" alt="Title" /></a>
                                        <a href="#"><img src="/static/images/p5.jpg" alt="Title" /></a>
                                        <a href="#"><img src="/static/images/p22.jpg" alt="Title" /></a>
                                </div>
                        </div>
                </div>
        </div>
</div>

<div class="sidebar_single_module">
        <div class="sidebar_wraper">
                <div class="sidebar_inner">
                        <div class="dribble_widget">
                                <h2>Dribbble Widget</h2>
                                <div>
                                        <a href="#"><img src="/static/images/dribble.jpg" alt="Title" /></a>
                                </div>
                        </div>
                </div>
        </div>
</div>


<div class="sidebar_single_module">
        <div class="sidebar_wraper">
                <div class="sidebar_inner">
                        <div class="text_widget">
                                <h2>Text Widget</h2>
                                <p>Ad eam iriure impetus convenire, quo eu virtute officiis. Pri te illum malis voluptatibus.</p>
                        </div>
                </div>
        </div>
</div>

<div class="sidebar_single_module">
        <div class="sidebar_wraper">
                <div class="sidebar_inner">
                        <div class="tag_widget">
                            <h2>Tags</h2>
                            <ul>
                            
                            <li><a href="/tags/fcgiwrap">fcgiwrap</a></li>
                            
                            <li><a href="/tags/ubuntu">ubuntu</a></li>
                            
                            <li><a href="/tags/hugo">hugo</a></li>
                            
                            <li><a href="/tags/blog">blog</a></li>
                            
                            <li><a href="/tags/saucy">saucy</a></li>
                            
                            <li><a href="/tags/nginx">nginx</a></li>
                            
                            </ul>
                        </div>
                </div>
        </div>
</div>

<div class="sidebar_single_module">
        <div class="sidebar_wraper">
                <div class="sidebar_inner">
                        <div class="text_widget copy_right">
                                <h2>&copy; 2014 by </h2>
                        </div>
                </div>
        </div>
</div>

                        </section>

<div class="main_content_area">
    <div id="expand_content_menu"><span class="icon icon-bars"></span></div>
    <div id="body_hover"></div>


    <section class="home_page_post_area single_page_post_area">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="home_single_post">
        <div class="post_image_area">
          
          
        </div>
              <article class="post_content_area">
                <div class="row">
                  <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 col-xs-offset-0 col-sm-offset-2 col-md-offset-2 col-lg-offset-2">
                    <section class="single_post_content">
                      <h2 property="headline">smokeping on saucy</h2>
                      
                      <hr>
                      

<p>For anyone attempting to run smokeping with nginx and fcgiwrap, there is a <a href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=695438">major bug</a> in the package that ubuntu/debian provides.</p>

<h5 id="install-smokeping:1a610fc03acb1361c1fc1a239416a202">Install smokeping</h5>

<div class="highlight" style="background: #fdf6e3"><pre style="line-height: 125%">apt-get --no-install-recommends install smokeping
</pre></div>


<h5 id="install-fcgiwrap:1a610fc03acb1361c1fc1a239416a202">Install fcgiwrap</h5>

<div class="highlight" style="background: #fdf6e3"><pre style="line-height: 125%">apt-get install fcgiwrap
</pre></div>


<h5 id="in-your-nginx-site-config-add-the-cgi-configuration-for-fcgiwrap:1a610fc03acb1361c1fc1a239416a202">In your nginx site config, add the cgi configuration for fcgiwrap</h5>

<p><code>/etc/nginx/sites-enabled/yoursite</code>:</p>

<div class="highlight" style="background: #fdf6e3"><pre style="line-height: 125%"><span style="color: #859900">location</span> <span style="color: #657b83">~</span> <span style="color: #2aa198">\.cgi$</span> <span style="color: #657b83">{</span>
    <span style="color: #cb4b16">fastcgi_intercept_errors</span>  <span style="color: #b58900">on</span><span style="color: #657b83">;</span>
    <span style="color: #cb4b16">include</span>                   <span style="color: #2aa198">fastcgi_params</span><span style="color: #657b83">;</span>
    <span style="color: #cb4b16">fastcgi_pass</span>              <span style="color: #2aa198">unix:/var/run/fcgiwrap.socket</span><span style="color: #657b83">;</span>
    <span style="color: #cb4b16">fastcgi_param</span>             <span style="color: #2aa198">SCRIPT_NAME</span>           <span style="color: #cb4b16">$fastcgi_script_name</span><span style="color: #657b83">;</span>
    <span style="color: #cb4b16">fastcgi_param</span>             <span style="color: #2aa198">SCRIPT_FILENAME</span>       <span style="color: #cb4b16">$document_root$fastcgi_script_name</span><span style="color: #657b83">;}</span>
</pre></div>


<h5 id="in-your-nginx-site-config-add-a-smokeping-location-i-also-use-authentication-here:1a610fc03acb1361c1fc1a239416a202">In your nginx site config, add a smokeping location (I also use authentication here)</h5>

<p><code>/etc/nginx/sites-enabled/yoursite</code>:
<div class="highlight" style="background: #fdf6e3"><pre style="line-height: 125%"><span style="color: #859900">location</span> <span style="color: #2aa198">/smokeping</span> <span style="color: #657b83">{</span>
    <span style="color: #cb4b16">gzip</span>                  <span style="color: #b58900">off</span><span style="color: #657b83">;</span>
    <span style="color: #cb4b16">index</span>                 <span style="color: #2aa198">smokeping.cgi</span><span style="color: #657b83">;</span>
<span style="color: #657b83">}</span>
</pre></div>
</p>

<h5 id="symlink-smokeping-folder-to-nginx-share:1a610fc03acb1361c1fc1a239416a202">Symlink smokeping folder to nginx share</h5>

<div class="highlight" style="background: #fdf6e3"><pre style="line-height: 125%">ln -s /usr/share/smokeping/www /usr/share/nginx/html/smokeping
</pre></div>


<h5 id="ignore-smokeping-fcgi-dist-and-symlink-the-correct-cgi-script:1a610fc03acb1361c1fc1a239416a202">Ignore smokeping.fcgi.dist and symlink the correct cgi script</h5>

<div class="highlight" style="background: #fdf6e3"><pre style="line-height: 125%">ln -s /usr/lib/cgi-bin/smokeping.cgi /usr/share/nginx/html/smokeping/
</pre></div>


<h5 id="edit-the-config-files-in-etc-smokeping-config-d-to-your-liking:1a610fc03acb1361c1fc1a239416a202">Edit the config files in /etc/smokeping/config.d to your liking</h5>

<p>Good luck!</p>

                    </section>
                    

                  </div>
                </div>
              </article>



            <div class="home_single_post comment_area">
              <div class="post_content_area">
                <div class="row">
                  <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 col-xs-offset-0 col-sm-offset-2 col-md-offset-2 col-lg-offset-2">
                    <div id="g-comments" >
                      
                    </div>
                  </div>
                </div>
              </div>
            </div>


            <div class="paginating_area">
                <ul>
                    <li><a href="/post/hugo/" class="p_arrow" title="Previous blog post: Hugo"><i>&lsaquo;</i></a></li>
                    
                </ul>
            </div>


                    </div>
                </div>
            </div>
        </div>
    </section>
 </div>

  <script type="text/javascript" src="https://stephenjamieson.info/static/js/thirdparties.js"></script>
  <script type="text/javascript" src="https://stephenjamieson.info/static/js/jquery.min.js"></script>

  <script type="text/javascript" src="https://stephenjamieson.info/static/js/lightGallery.min.js"></script>
  <script type="text/javascript" src="https://stephenjamieson.info/static/js/lightslider.min.js"></script>

  <script type="text/javascript" src="https://stephenjamieson.info/static/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="https://stephenjamieson.info/static/js/main.js"></script>

  <script type="text/javascript" src="https://stephenjamieson.info/static/js/highlight.pack.js"></script>
  <script>
    hljs.configure({
      languages: ['bash', 'html']
    });
    hljs.initHighlightingOnLoad();
  </script>
  

</body>
</html>

